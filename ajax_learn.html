<!DOCTYPE html>
<html>
<head>
	<title>AJAX DEMO</title>

	<style>
		#div1{
                font-size:15px;
                color: green;
                }
	</style>
</head>
<body>
	<button id="btn1">Please Click Here</button>
    <div id="div1">this is text</div>




	<script>
		
		document.getElementById('btn1').addEventListener('click',loadtext);//creating an ebent listener

		function loadtext(){
           //create XHR Object
             var xhr=new XMLHttpRequest();
           //OPEN - type, url/file, async
          //   window.alert("done");
             console.log(xhr);
             xhr.open('GET','sample.txt',true);

      //       xhr.onload = function(){
        //    	if(this.status==200){
       //      		console.log(this.responseText);
       //      	}
      //       }




      //optional - used for loaders
      xhr.onprogress = function(){
      	console.log('READYSTATE: ',xhr.readyState );
      } 

      xhr.onreadystatechange=function(){
      	if (this.readyState == 4 && this.status == 200) {
      		console.log(this.responseText);
      		document.getElementById('div1').innerHTML=this.responseText;
      	}

      }



             xhr.send();//sends request

		}

		//HTTP Statuses
		//200: "OK"
		//403: "Forbidden"
		//404: "Not Found"



		//readyState Values
		// 0: request not initialized
		// 1: server connection estabilished
		// 2: request received
		// 3: procesing request
		// 4: request finished and response is ready




	</script>
</body>
</html>